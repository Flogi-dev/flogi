**Flogi 서비스 핵심 플로우**

**Tier 1: 이벤트 감지 및 설정 (트리거의 시작점)**

* 다양한 방식으로 Flogi 서비스가 시작될 수 있는 지점  
  * **IDE 종료 감지**: 개발자가 IDE를 종료하는 시점을 감지하여 Flogi 프로세스를 시작  
  * **시간 주기별 커밋 설정**: 사용자가 설정한 특정 시간 간격(예: 매일 저녁, 매주 금요일)에 따라 자동으로 커밋 관련 작업을 트리거  
  * **고객 커스터마이징**: 사용자가 직접 Flogi의 특정 기능을 실행하거나 설정을 변경하는 등의 맞춤형 요청이 발생하는 지점

**Tier 2: 트리거 작동 (본격적인 프로세스 시작)**

* Tier 1에서 발생한 다양한 이벤트들이 실제로 Flogi의 핵심 로직을 "작동"시키는 단계이고고  
  어떤 종류의 트리거인지(IDE 종료인지, 시간 기반인지, 수동 실행인지 등) 판단 및 각 프로세스 오류 발생 시 Fallback 옵션 설계(예정)

**Tier 3: 사용자 플랜 기반 분기 (기능 및 정책 차등화)**

* 사용자의 요금제(Free & Basic 또는 Pro & Team & Org)에 따라 서비스의 흐름이나 제공되는 기능의 수준이 달라지는 중요한 분기점  
  * **Free & Basic 사용자 그룹**  
  * **Pro & Team & Org 사용자 그룹**

**Tier 3.5: 핵심 기능 실행 (스코핑 및 커밋 메시지 생성 \- 플랜별 시점 차이)**

* Flogi의 핵심 기능인 "스코핑 및 커밋 메시지 생성"이 실행되는 단계, 사용자 플랜에 따라 이 기능이 실행되는 시점이나 방식에 차등 서비스 제공  
  * **Free & Basic 사용자**: "링크 접속 시점"에 스코핑 및 커밋 메시지 생성이 이루어짐   
    즉, Tier 4에서 발송된 링크를 사용자가 클릭했을 때 관련 작업이 진행됨 \- LLM의 의미없는 호출을 줄이고 의미 없는 비용을 사전에 차단  
  * **Pro & Team & Org 사용자**: "트리거 작동 시점" (즉, Tier 2 직후 또는 그와 유사한 시점)에 즉시 스코핑 및 커밋 메시지 생성이 이루어짐, 이는 유료 사용자에게 더 즉각적이고 자동화된 경험을 제공하기 위함

**Tier 4: 알림 및 사용자 인터랙션 준비 (플랫폼 링크 전송)**

* 생성된 커밋 메시지 초안이나 분석 결과를 사용자에게 전달하고, 다음 액션을 취할 수 있도록 다양한 플랫폼을 통해 링크를 전송하는 단계입니다. 이 기능은 모든 사용자에게 공통적으로 제공  
  * **공통 알림 채널**: Gmail, Slack, Kakao, Discord, Telegram.  
* 사용자의 소속(개인 또는 팀/조직)에 따라 추가적인 알림/전송 가능  
  * **개인 사용자 대상**  
  * **Team & Org 사용자 대상**: Google Workspace, Slack Workspace와 같은 팀 협업 도구로의 추가 전송 기능 제공

**Tier 5: 사용자 인증 및 작업 흐름 진입 (링크 접속 시)**

* Tier 4에서 사용자가 전송받은 링크를 클릭하여 접속하면, 자동 OAuth 인증을 통해 사용자를 식별하고 Flogi의 웹 인터페이스 또는 특정 작업 흐름으로 진입 (주로 Free & Basic 사용자의 경우 Tier 3.5의 작업이 이 시점에 트리거)

**Tier 6: 커밋 상세 검토 인터페이스**

* 사용자가 링크를 통해 접속한 화면에서 코드 변경 사항에 대한 상세 정보를 리스트업  
  * **변경 함수 목록 및 각 함수별 Describe 링크**: 어떤 함수들이 변경되었는지 목록을 보여주고, 각 함수에 대한 AI 기반의 설명(Describe)을 볼 수 있는 링크를 제공  
  * **변경 파일 목록**: 변경된 파일들의 목록을 제공합니다.  
  * **Tier 6 예시 (내부 모듈)**: llm\_manager.py 와 그 내부 함수들(\_\_init\_\_, \_get\_config, call, \_call\_model)이 이 과정에서 사용되는 내부 컴포넌트의 예시

**Tier 7: 커밋 메시지 확인 및 수정**

* AI가 생성한 커밋 메시지 초안을 파일별 또는 전체 변경 사항에 대해 사용자가 직접 확인하고, 필요한 경우 수정하는 단계

**Tier 8: 최종 확정**

* 사용자가 커밋 메시지를 검토하고 수정한 후, "최종 확정" 버튼을 클릭하여 해당 내용을 시스템에 반영하는 단계

**Tier 9: 확정 후 작업 (데이터 저장 및 외부 연동)**

* Tier 8에서 커밋이 최종 확정된 후 수행되는 후속 작업  
  * **자체 페이지 사용자 Archive 저장**: Flogi 내부 시스템(DB 또는 별도 스토리지)에 사용자의 작업 결과(최종 커밋 메시지, 분석 내용 등)를 아카이브 형태로 저장  
  * **GitHub Action 연동**: 사용자의 GitHub 저장소와 연동되어, 확정된 커밋을 실제 Git 히스토리에 반영하거나 관련 GitHub Action을 트리거 (예: 자동 commit & push)  
  * **사용자 설정 Archive 플랫폼 전송**: 사용자가 미리 설정한 외부 플랫폼(Notion, Slack, Google Workspace)으로 확정된 커밋 정보나 분석 결과를 전송하여 개인 또는 팀의 지식 베이스로 활용하도록 함

**Tier 10: 알림 전송 (결과 통보)**

* Tier 9의 모든 작업이 완료되거나, 또는 특정 이벤트 발생 시 사용자에게 그 결과를 알리는 단계

**Tier 11: 알림 내용 분기 (성공/실패)**

* Tier 10 알림의 구체적인 내용으로, 작업의 성공 또는 실패 여부에 따라 다른 메시지를 전달  
  * **성공 알림**: 작업이 성공적으로 완료되었음을 알림  
  * **실패 알림 및 실패 이유 전송**: 작업이 실패했을 경우, 실패 사실과 함께 가능한 실패 원인을 사용자에게 전달하여 후속 조치를 취할 수 있도록 함

