## **섹션 1: AWS 용어 정리 및 시스템 아키텍처 개요 (약 5000자)**

### **1\. 핵심 AWS 서비스 용어 정리**

* **EC2 (Elastic Compute Cloud)**: 크기 조정이 가능한 컴퓨팅 용량을 클라우드에서 제공하는 가상 서버입니다. 사용자는 운영 체제, 애플리케이션 등을 직접 구성하고 관리할 수 있습니다. 다양한 인스턴스 유형을 통해 워크로드에 최적화된 환경을 구축할 수 있습니다.  
* **S3 (Simple Storage Service)**: 객체 기반의 스토리지 서비스로, 높은 확장성, 데이터 가용성 및 보안성을 제공합니다. 이미지, 문서, 백업 데이터 등 다양한 종류의 데이터를 저장하고 검색하는 데 사용됩니다. 버킷이라는 컨테이너에 객체를 저장하는 구조입니다.  
* **VPC (Virtual Private Cloud)**: AWS 클라우드 내에 격리된 가상 네트워크를 구축할 수 있도록 지원합니다. 사용자는 IP 주소 범위, 서브넷, 라우팅 테이블, 네트워크 게이트웨이 등을 정의하여 네트워크 환경을 완벽하게 제어할 수 있습니다.  
* **IAM (Identity and Access Management)**: AWS 리소스에 대한 접근 권한을 안전하게 관리할 수 있도록 돕는 서비스입니다. 사용자, 그룹, 역할을 생성하고 각 엔티티에 필요한 권한을 할당하여 최소 권한 원칙을 구현할 수 있습니다.  
* **EKS (Elastic Kubernetes Service)**: AWS에서 Kubernetes를 쉽게 실행하고 확장할 수 있도록 지원하는 관리형 Kubernetes 서비스입니다. 사용자는 Kubernetes 클러스터의 제어 영역을 관리할 필요 없이 노드만 관리하면 됩니다.  
* **ECS (Elastic Container Service)**: Docker 컨테이너를 AWS에서 쉽게 실행, 관리 및 확장할 수 있는 완전 관리형 컨테이너 오케스트레이션 서비스입니다. 자체적인 스케줄링 옵션을 제공합니다.  
* **RDS (Relational Database Service)**: 클라우드에서 관계형 데이터베이스를 쉽게 설정, 운영 및 확장할 수 있도록 지원하는 관리형 서비스입니다. MySQL, PostgreSQL, Oracle, SQL Server 등 다양한 데이터베이스 엔진을 지원합니다.  
* **DynamoDB**: 완전 관리형 NoSQL 데이터베이스 서비스로, 키-값 및 문서 데이터 모델을 지원하며 뛰어난 확장성과 성능을 제공합니다.  
* **CloudWatch**: AWS 리소스 및 애플리케이션을 모니터링하는 서비스입니다. 지표 수집 및 추적, 로그 수집 및 분석, 경보 설정 등의 기능을 제공하여 시스템 운영 상태를 파악하고 잠재적인 문제를 감지하는 데 활용됩니다.  
* **Load Balancer (ELB \- Elastic Load Balancing)**: 들어오는 애플리케이션 트래픽을 여러 EC2 인스턴스, 컨테이너, IP 주소 등으로 분산시켜 애플리케이션의 가용성과 내결함성을 향상시킵니다. Application Load Balancer, Network Load Balancer, Classic Load Balancer 등 다양한 유형을 제공합니다.  
* **Security Groups**: EC2 인스턴스의 인바운드 및 아웃바운드 트래픽을 제어하는 가상 방화벽 역할을 합니다. 상태 저장 방식을 사용하며, 허용 규칙만 설정할 수 있습니다.  
* **Network ACLs (Network Access Control Lists)**: 서브넷 수준에서 인바운드 및 아웃바운드 트래픽을 제어하는 방화벽 역할을 합니다. 상태 비저장 방식이며, 허용 및 거부 규칙을 모두 설정할 수 있습니다.  
* **Route 53**: 확장 가능하고 가용성이 높은 DNS (Domain Name System) 웹 서비스입니다. 도메인 등록, DNS 라우팅, 상태 확인 등의 기능을 제공합니다.

### **2\. 일반적인 AWS 시스템 아키텍처 패턴**

* **단일 계층 아키텍처**: 모든 구성 요소 (웹 서버, 애플리케이션 서버, 데이터베이스)가 하나의 EC2 인스턴스에서 실행되는 가장 단순한 형태입니다. 개발 및 테스트 환경에 적합하지만, 확장성 및 가용성이 낮습니다.  
* **3계층 아키텍처**: 프레젠테이션 계층 (웹 서버), 애플리케이션 계층 (비즈니스 로직), 데이터 계층 (데이터베이스)으로 분리된 형태입니다. 각 계층을 독립적으로 확장하고 관리할 수 있어 단일 계층 아키텍처보다 확장성 및 유지보수성이 향상됩니다. 각 계층은 EC2 인스턴스, Load Balancer, RDS 등으로 구성될 수 있습니다.  
* **마이크로서비스 아키텍처**: 애플리케이션을 작고 독립적으로 배포 가능한 서비스들의 모음으로 구성하는 방식입니다. 각 서비스는 자체 프로세스로 실행되며, API를 통해 통신합니다. EKS 또는 ECS와 함께 사용하여 각 서비스를 컨테이너로 관리하고 확장하는 것이 일반적입니다. 각 마이크로서비스는 필요에 따라 다른 AWS 서비스를 활용할 수 있습니다.  
* **서버리스 아키텍처**: AWS Lambda, API Gateway, DynamoDB, S3 등 서버를 직접 관리할 필요 없이 이벤트 기반으로 코드를 실행하고 서비스를 구축하는 방식입니다. 비용 효율성이 높고 운영 부담을 줄일 수 있습니다.

### **3\. 보안 중심 아키텍처 고려 사항**

* **최소 권한 원칙**: IAM을 통해 각 컴포넌트에 필요한 최소한의 권한만 부여합니다.  
* **네트워크 격리**: VPC를 사용하여 퍼블릭 및 프라이빗 서브넷을 구성하고, Security Groups 및 Network ACLs를 통해 네트워크 트래픽을 제어합니다.  
* **데이터 암호화**: 중요한 데이터는 저장 시 (S3 SSE, RDS 암호화 등) 및 전송 시 (HTTPS) 암호화를 적용합니다.  
* **보안 모니터링**: CloudWatch, Security Hub, GuardDuty 등을 활용하여 시스템의 보안 상태를 지속적으로 모니터링하고 위협을 탐지합니다.  
* **재해 복구 (DR)**: 여러 가용 영역 (Availability Zones)에 걸쳐 시스템을 배포하고, 백업 및 복구 전략을 수립합니다.

## **섹션 2: 효율적인 코드 스코핑 전략 (약 5000자)**

### **1\. 현재 스코핑 방식 분석**

현재 사용하고 계신 스코핑 방식은 다음과 같습니다.

1. 정적 파싱을 통해 import되거나 import하는 함수 간의 연결을 리스트업합니다.  
2. 최대 50개로 제한합니다.  
3. Jaccard 유사도와 같은 가벼운 방식으로 1차 스코핑하여 10개로 줄입니다.  
4. Code2Vec과 같은 임베딩 모델로 최종 스코핑하여 최대 3개까지 선택합니다.  
5. 코드 단위 (함수)로 비교하여 재사용률을 높입니다.  
6. AST 파싱을 통해 유사도 90% 미만인 경우에만 임베딩을 다시 수행하여 중복 연산을 줄입니다.

이는 효율성과 정확성을 모두 고려한 정교한 전략으로 보입니다.

### **2\. 리소스 사용량 감소 및 정확도 향상을 위한 추가 고려 사항**

* **AST 기반의 더 심층적인 유사도 분석**: 단순한 AST 파싱 외에도, AST를 트리 구조로 분석하여 노드 유형, 구조적 유사성 등을 비교하는 알고리즘을 적용해 볼 수 있습니다. 이는 텍스트 기반 유사도보다 코드의 실제 의미 변화를 더 잘 포착할 수 있으며, 임베딩 전 단계에서 더 정확한 필터링을 가능하게 할 수 있습니다. 예를 들어, 트리 편집 거리(Tree Edit Distance) 알고리즘을 활용하여 AST 간의 유사성을 정량화할 수 있습니다.  
* **특징 기반 스코핑의 혼합**: 임베딩 기반 유사도 비교 외에도, 코드의 특정 통계적 특징 (토큰 빈도, 코드 라인 수, 복잡도 지표 등)을 활용하여 스코핑에 보조적인 정보를 제공할 수 있습니다. 예를 들어, 임베딩 유사도가 비슷한 후보군 내에서 코드 복잡도가 낮은 파일을 우선적으로 선택하는 방식입니다.  
* **점진적인 스코핑**: 모든 파일을 한 번에 스코핑하는 대신, 사용자의 작업 패턴이나 이전 스코핑 결과를 기반으로 더 가능성이 높은 파일들을 먼저 스코핑하고, 필요에 따라 범위를 확장하는 방식입니다. 이는 초기 스코핑에 필요한 리소스를 줄일 수 있습니다.  
* **전문적인 코드 유사성 분석 도구 활용**: 상용 또는 오픈 소스 코드 유사성 분석 도구 중 일부는 매우 효율적이고 정확한 스코핑 기능을 제공할 수 있습니다. 이러한 도구를 통합하여 사용하는 것을 고려해 볼 수도 있습니다.

### **3\. 잠재적인 악용 방지 강화**

* **파싱 깊이 및 파일 크기 제한**: 과도하게 깊거나 큰 파일을 파싱하는 것을 방지하기 위해 최대 깊이 및 파일 크기 제한을 엄격하게 적용합니다.  
* **비정상적인 import 구조 감지**: 지나치게 많은 import 구문이나 순환 참조와 같은 비정상적인 import 패턴을 감지하고 처리합니다.  
* **유사도 점수 이상치 탐지**: Jaccard 유사도나 임베딩 유사도 점수가 극단적으로 높거나 낮은 경우를 탐지하여 악의적인 파일 포함 시도를 식별합니다.

### **4\. 성능 모니터링 및 최적화**

* 스코핑 각 단계별 소요 시간 및 리소스 사용량을 지속적으로 모니터링하여 병목 지점을 파악하고 최적화합니다.  
* 스코핑 결과의 정확도와 사용자 만족도를 측정하고, 이를 기반으로 스코핑 전략을 지속적으로 개선합니다.

이 문서가 효율적인 코드 스코핑 전략을 더욱 발전시키는 데 도움이 되기를 바랍니다. 궁금한 점이 있으시면 언제든지 다시 질문해주세요.